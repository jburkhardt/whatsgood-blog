---
title: "It's on CRAN - Introducing the kofdata R package"
author: admin
date: 2018-12-01T21:13:14-05:00
categories: ["R","API","PostgreSQL","Official Statistics"]
tags: ["R Markdown", "plot", "regression"]
---



<p>At KOF, we have recently introduced a REST Interface to conveniently automate
data downloads. R users can now benefit from an even more convenient way to consume KOF data:
the brand new ‘kofdata’ CRAN package. The package allows to download Swiss
time series data and meta information through simple R functions.</p>
<p>Installing the package is a matter of:</p>
<pre class="r"><code>install.packages(&quot;kofdata&quot;)</code></pre>
<p>Once you have installed the package you can download data and obtain R time
series objects with a simple function call. Get Switzerland’s most popular macro
economic <em>forward looking indicator</em>, the KOF Barometer like this:</p>
<pre class="r"><code>library(kofdata)
get_time_series(&quot;kofbarometer&quot;)</code></pre>
<p>Because you will receive an R time series object you can easily create a
time series plot out-of-the-box using base R’s plot. Or get our
<a href="https://github.com/mbannert/tstools">tstools</a> package and given even neater plots…</p>
<pre><code>## Loading required package: jsonlite
## Loading required package: httr</code></pre>
<pre class="r"><code># base R alternative without additional plot packages
tslist &lt;- get_time_series(&quot;kofbarometer&quot;)
plot(tslist$kofbarometer)</code></pre>
<p><img src="/post/2018-12-01-introducing-kofdata_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>
library(tstools)
## Loading required package: zoo
## 
## Attaching package: &#39;zoo&#39;
## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric
tsplot(tslist)</code></pre>
<p><img src="/post/2018-12-01-introducing-kofdata_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<p>And yes, there’s a bit more to the package than just querying single time series.
Here is a small overview of the current, basic functionality.</p>
<pre class="r"><code>lsf.str(&quot;package:kofdata&quot;)
## cantons : function (full = F)  
## download_cached_file : function (username, api_key, file_to_download, target = NULL)  
## get_dataset : function (set_name, api_key = NULL, show_progress = FALSE)  
## get_legacy_key : function (ts_keys)  
## get_metadata : function (ts_keys, locale = c(&quot;en&quot;, &quot;de&quot;, &quot;fr&quot;, &quot;it&quot;))  
## get_remaining_quota : function (api_key)  
## get_time_series : function (ts_keys, api_key = NULL, show_progress = FALSE)  
## list_available_sets : function ()  
## list_cached_files : function (username, api_key)  
## list_keys_in_set : function (setname)  
## list_public_keys : function ()  
## start_key_explorer : function ()  
## translate_legacy_keys : function (legacy_keys, chunksize = 100)</code></pre>
